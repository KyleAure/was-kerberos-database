<server>

  <featureManager>
    <feature>spnego-1.0</feature>
    <feature>servlet-4.0</feature>
    <feature>jdbc-4.2</feature>
    <feature>appSecurity-2.0</feature>
    <feature>jca-1.7</feature>
    <feature>cdi-2.0</feature>
  </featureManager>

  <library id="DB2JCCLib">
    <fileset dir="/opt/ol/wlp/usr/shared/" includes="db2jcc.jar"/>
  </library>

  <library id="loginLib">
    <fileset dir="/opt/ol/wlp/usr/shared/" includes="krb5LoginModule.jar"/>
  </library>

  <jaasLoginContextEntry id="krb5JAASLoginEntry" name="krb5JAASLoginEntry" loginModuleRef="krb5LoginModule" />
	<jaasLoginModule id="krb5LoginModule" className="com.ibm.security.auth.module.Krb5LoginModule" controlFlag="REQUIRED" libraryRef="loginLib">
    <options credsType="both" useKeytab="/etc/krb5.keytab" principal="db2user/db2@EXAMPLE.COM"/>
  </jaasLoginModule>
  <dataSource id="db2ds" jndiName="jdbc/db2ds"> <!--jaasLoginContextEntry="krb5JAASLoginEntry">-->
    <jdbcDriver libraryRef="DB2JCCLib"/>
    <properties.db2.jcc databaseName="TESTDB" serverName="db2" portNumber="50000"/> <!--securityMechanism="11" KerberosServerPrincipal="db2user/db2@EXAMPLE.COM"/>-->
    <containerAuthData user="db2user"  password="password"/>
  </dataSource>

  <!--
  <spnego
    includeClientGSSCredentialInSubject="true"
    krb5Config="/etc/krb5.conf"
    krb5Keytab="/etc/krb5.keytab"/>  
  -->

  <logging traceSpecification="*=info:RRA=all:WAS.j2c=all:WAS.database=all:com.ibm.ws.db2.logwriter=all:com.microsoft.sqlserver.*=all:SSL=all:com.ibm.ws.security.*=all:com.ibm.ws.security.policy.*=off"/>
   

</server>